{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\john.miguel.p.estopa\\\\OneDrive - Accenture\\\\Desktop\\\\hehe2\\\\src\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport logo from \"./images/logo.png\";\nimport { useEffect } from \"react\"; //a hook that GIVES  \"side-effects\"\n\nimport { useHistory } from \"react-router-dom\"; // allows us to access our path / route history.\n\nimport Axios from \"axios\"; //allows us to make GET and POST requests from the browser.\n\nimport { useState } from \"react\"; //HERE we import useState Hook so we can add state to our functional components.\n\nimport verifyIcon from \"./images/verify.svg\";\nimport { useParams } from \"react-router-dom\"; // returns: an object of key/value pairs of URL parameters\n\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  let history = useHistory(); //USE HISTORY  it will DETERMINED OUR PAST PATH.\n\n  const loginNow = e => {\n    e.preventDefault();\n    const data = {\n      password: password,\n      email: email\n    };\n    Axios.post(\"http://localhost:5000/login\", data).then(res => {\n      //IF AUTH IS = TRUE comes from the backend!\n      if (res.data.auth) {\n        if (res.data.position === \"user\") {\n          console.log(res.data);\n          localStorage.setItem(\"user\", res.data.token);\n          localStorage.setItem(\"email\", res.data.email);\n          localStorage.setItem(\"password\", res.data.password);\n          swal({\n            title: \"Login Successfully!\",\n            icon: \"success\",\n            showConfirmButton: false\n          });\n          setTimeout(() => {\n            history.push(\"/dashboard\");\n          }, \"2000\");\n        } else if (res.data.position === \"admin\") {\n          localStorage.setItem(\"admin\", res.data.token);\n          localStorage.setItem(\"email\", res.data.email);\n          localStorage.setItem(\"password\", res.data.password);\n        }\n      }\n    }).catch(err => {\n      swal({\n        text: \"Account doesn't exist or still under review\",\n        icon: \"warning\"\n      });\n    });\n  };\n\n  const isLoaded = [true];\n  useEffect(() => {\n    if (isLoaded) {\n      Axios.post(\"http://localhost:5000/login\", {\n        email: localStorage.getItem(\"email\"),\n        password: localStorage.getItem(\"password\")\n      }).then(response => {\n        history.push(\"/dashboard\");\n      }).catch(error => {\n        history.push(\"/login\");\n      });\n    } else {\n      console.log(\"ERROR\");\n    }\n  }, isLoaded);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"_widget login\",\n    children: [/*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"cf7cb0683 _prompt-box-outer cd488bb40\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cb158515f cc5801146\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c835b06af\",\n            children: [/*#__PURE__*/_jsxDEV(\"header\", {\n              className: \"ca2efc7d8 c61e4fcc8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                title: \"BlockFi\",\n                id: \"custom-prompt-logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  width: '50%'\n                },\n                src: logo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"c3fa29956 c926e5028\",\n                style: {\n                  fontFamily: \"'Arial\",\n                  marginTop: '-18px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Log in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 100\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"c2077a76c cac95ad60\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"c439d90a0 c37cd0ac8\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                method: \"POST\",\n                className: \"c0425e711 c322487ef\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"hidden\",\n                  name: \"state\",\n                  defaultValue: \"hKFo2SBNT3Jzak90Z0xocVFzV2h1Q0s3YmdFdXE4Wk9rdVYyOaFur3VuaXZlcnNhbC1sb2dpbqN0aWTZIElRbERlSmxmRkJ2MUk3TG5hYldpZDlUSzlUU09qZUt1o2NpZNkgS1JyVTFzTFgzd2R1a0JlRllrZG01ZkFzWWFsS2tnZUI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cb0776e96 c55a4daea\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"c91b28086\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-wrapper _input-wrapper\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"c02a080f8 c73989c48 text ca6eb1802\",\n                        \"data-action-text\": true,\n                        \"data-alternate-action-text\": true,\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          children: \"Email address\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 134,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"input cd8c0df77 c519c8f96\",\n                          onChange: event => {\n                            setEmail(event.target.value);\n                          },\n                          inputMode: \"email\",\n                          name: \"username\",\n                          id: \"username\",\n                          type: \"text\",\n                          Placeholder: \"\\uD83D\\uDCE7 Your Email\",\n                          required: true,\n                          autoComplete: \"username\",\n                          autoCapitalize: \"none\",\n                          spellCheck: \"false\",\n                          autofocus: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-wrapper _input-wrapper\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"c02a080f8 c73989c48 password cd890d100\",\n                        \"data-action-text\": true,\n                        \"data-alternate-action-text\": true,\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          style: {\n                            marginRight: \"60%\"\n                          },\n                          htmlFor: \"password\",\n                          children: \"Password\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          onChange: event => {\n                            setPassword(event.target.value);\n                          },\n                          className: \"input cd8c0df77 c640d2562\",\n                          placeholder: \"\\uD83D\\uDC41\\uFE0F Your Password\",\n                          name: \"password\",\n                          id: \"password\",\n                          type: \"password\",\n                          required: true,\n                          autoComplete: \"current-password\",\n                          autoCapitalize: \"none\",\n                          spellCheck: \"false\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 150,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"cd1df0865 ulp-button-icon c6cad41d5 _button-icon\",\n                          \"data-action\": \"toggle\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"screen-reader-only password-toggle-label\",\n                            \"data-label\": \"toggle\",\n                            children: \"Show Password\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 156,\n                            columnNumber: 27\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"c6989ffc0 password js-required\",\n                            \"aria-hidden\": \"true\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 157,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"c73d89667 cd4743c67\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"c82c0b9b3 cabd3c7de c8061fbcb\",\n                    href: \"#\",\n                    children: \"Forgot password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"c6d7d2ace\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    name: \"action\",\n                    value: \"default\",\n                    onClick: loginNow,\n                    className: \"cd1df0865 c0b512bff c6cad41d5 c132a5a03 c571d5ab7\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"c73d89667 cd4743c67\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"c82c0b9b3 cabd3c7de c8061fbcb\",\n                    href: \"/register\",\n                    children: \"Don't have an account yet?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ulp-alternate-action _alternate-action __s16nu9\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"c76075b34 c2fad6637 ca7b07586\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"c82c0b9b3 c8061fbcb\",\n                    href: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"S6EHoGpnbSeX+eDcS7WS79UoMNY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/john.miguel.p.estopa/OneDrive - Accenture/Desktop/hehe2/src/login.js"],"names":["React","logo","useEffect","useHistory","Axios","useState","verifyIcon","useParams","swal","Login","email","setEmail","password","setPassword","history","loginNow","e","preventDefault","data","post","then","res","auth","position","console","log","localStorage","setItem","token","title","icon","showConfirmButton","setTimeout","push","catch","err","text","isLoaded","getItem","response","error","width","fontFamily","marginTop","event","target","value","marginRight"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport logo from \"./images/logo.png\";\r\nimport { useEffect } from \"react\"; //a hook that GIVES  \"side-effects\"\r\nimport { useHistory } from \"react-router-dom\"; // allows us to access our path / route history.\r\nimport Axios from \"axios\"; //allows us to make GET and POST requests from the browser.\r\nimport { useState } from \"react\"; //HERE we import useState Hook so we can add state to our functional components.\r\nimport verifyIcon from \"./images/verify.svg\";\r\nimport { useParams } from \"react-router-dom\"; // returns: an object of key/value pairs of URL parameters\r\nimport swal from 'sweetalert';\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n\r\n  let history = useHistory(); //USE HISTORY  it will DETERMINED OUR PAST PATH.\r\n\r\n  const loginNow =(e)=>{\r\n    e.preventDefault();\r\n  \r\n    const data ={\r\n        password: password,\r\n        email: email\r\n    }\r\n    \r\n    Axios.post(\"http://localhost:5000/login\",data)\r\n  \r\n    .then(res =>{\r\n  \r\n       //IF AUTH IS = TRUE comes from the backend!\r\n     if (res.data.auth){\r\n  \r\n       if(res.data.position ===\"user\"){\r\n        console.log(res.data)\r\n        localStorage.setItem(\"user\", res.data.token);\r\n        localStorage.setItem(\"email\", res.data.email);\r\n        localStorage.setItem(\"password\", res.data.password);\r\n\r\n        swal({\r\n          title: \"Login Successfully!\",\r\n          icon: \"success\",\r\n          showConfirmButton: false,\r\n\r\n        \r\n         \r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/dashboard\")\r\n        }, \"2000\")\r\n\r\n\r\n  \r\n       } else if(res.data.position ===\"admin\"){       \r\n        localStorage.setItem(\"admin\", res.data.token);\r\n        localStorage.setItem(\"email\", res.data.email);\r\n        localStorage.setItem(\"password\", res.data.password);\r\n  \r\n  \r\n       }\r\n       \r\n   \r\n     }\r\n      \r\n  \r\n    })\r\n     .catch(err =>{\r\n      swal({\r\n        text:\"Account doesn't exist or still under review\",\r\n        icon: \"warning\",\r\n     \r\n\r\n      \r\n       \r\n      });\r\n        \r\n   })\r\n  \r\n  }\r\n\r\n  const isLoaded = [true];\r\n  useEffect(() => {\r\n\r\n     if (isLoaded) {\r\n      Axios.post(\"http://localhost:5000/login\", \r\n\r\n      { \r\n        \r\n        \r\n        email: localStorage.getItem(\"email\"),\r\n        password: localStorage.getItem(\"password\")\r\n      }\r\n      \r\n      )\r\n    \r\n      \r\n      .then((response) => {\r\n        history.push(\"/dashboard\")\r\n\r\n     \r\n      })\r\n      .catch((error) => {\r\n        history.push(\"/login\")\r\n      })\r\n\r\n    }else{\r\n      console.log(\"ERROR\")\r\n    }\r\n\r\n\r\n  }, isLoaded);\r\n  \r\n  return (\r\n\r\n\r\n    <main className=\"_widget login\" >\r\n      <center>\r\n        <br></br>\r\n      <section className=\"cf7cb0683 _prompt-box-outer cd488bb40\" >\r\n        <div className=\"cb158515f cc5801146\"  >\r\n          <div className=\"c835b06af\">\r\n            <header className=\"ca2efc7d8 c61e4fcc8\">\r\n              <div title=\"BlockFi\" id=\"custom-prompt-logo\"  />\r\n              <img style={{width: '50%'}} src={logo}  />\r\n              <h1 className=\"c3fa29956 c926e5028\" style={{fontFamily:\"'Arial\",marginTop: '-18px'}}><b>Log in</b></h1>\r\n              <div className=\"c2077a76c cac95ad60\">\r\n              </div>\r\n            </header>\r\n            <div className=\"c439d90a0 c37cd0ac8\">\r\n              <form method=\"POST\" className=\"c0425e711 c322487ef\">\r\n                <input type=\"hidden\" name=\"state\" defaultValue=\"hKFo2SBNT3Jzak90Z0xocVFzV2h1Q0s3YmdFdXE4Wk9rdVYyOaFur3VuaXZlcnNhbC1sb2dpbqN0aWTZIElRbERlSmxmRkJ2MUk3TG5hYldpZDlUSzlUU09qZUt1o2NpZNkgS1JyVTFzTFgzd2R1a0JlRllrZG01ZkFzWWFsS2tnZUI\" />\r\n                <div className=\"cb0776e96 c55a4daea\">\r\n                  <div className=\"c91b28086\">\r\n                    <div className=\"input-wrapper _input-wrapper\">\r\n                      <div className=\"c02a080f8 c73989c48 text ca6eb1802\" data-action-text data-alternate-action-text>\r\n                      <label >\r\n                      \r\n                      Email address\r\n                    </label>\r\n                        <input className=\"input cd8c0df77 c519c8f96\"   onChange={(event) => {\r\n                                  setEmail(event.target.value);\r\n                                }}inputMode=\"email\" name=\"username\" id=\"username\" type=\"text\" Placeholder=\"📧 Your Email\" required autoComplete=\"username\" autoCapitalize=\"none\" spellCheck=\"false\" autofocus />\r\n                       \r\n                      \r\n                      </div>\r\n                    </div>\r\n                    <div className=\"input-wrapper _input-wrapper\">\r\n                      <div className=\"c02a080f8 c73989c48 password cd890d100\" data-action-text data-alternate-action-text>\r\n                      <label style={{marginRight:\"60%\"}} htmlFor=\"password\">\r\n                          Password\r\n                        </label>\r\n                        <input  onChange={(event) => {\r\n                                  setPassword(event.target.value);\r\n                                }} className=\"input cd8c0df77 c640d2562\"  placeholder=\"👁️ Your Password\"name=\"password\" id=\"password\" type=\"password\" required autoComplete=\"current-password\" autoCapitalize=\"none\" spellCheck=\"false\" />\r\n                       \r\n                       \r\n                        <button type=\"button\" className=\"cd1df0865 ulp-button-icon c6cad41d5 _button-icon\" data-action=\"toggle\">\r\n                          <span className=\"screen-reader-only password-toggle-label\" data-label=\"toggle\">Show Password</span>\r\n                          <span className=\"c6989ffc0 password js-required\" aria-hidden=\"true\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p className=\"c73d89667 cd4743c67\">\r\n                  <a className=\"c82c0b9b3 cabd3c7de c8061fbcb\" href=\"#\">Forgot password?</a>\r\n                </p>\r\n                <div className=\"c6d7d2ace\">\r\n                  <button type=\"submit\" name=\"action\" value=\"default\" onClick={loginNow} className=\"cd1df0865 c0b512bff c6cad41d5 c132a5a03 c571d5ab7\">\r\n                    Login\r\n                  </button>\r\n                </div>\r\n                <p className=\"c73d89667 cd4743c67\">\r\n                  <a className=\"c82c0b9b3 cabd3c7de c8061fbcb\" href=\"/register\">Don't have an account yet?</a>\r\n                </p>\r\n              </form>\r\n              <div className=\"ulp-alternate-action _alternate-action __s16nu9\">\r\n                <p className=\"c76075b34 c2fad6637 ca7b07586\">\r\n                  <a className=\"c82c0b9b3 c8061fbcb\" href=\"\">\r\n                  </a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      </center>\r\n      <br></br>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}