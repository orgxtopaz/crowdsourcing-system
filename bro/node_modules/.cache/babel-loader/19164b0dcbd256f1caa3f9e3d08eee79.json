{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\john.miguel.p.estopa\\\\OneDrive - Accenture\\\\Desktop\\\\hehe2\\\\src\\\\admin.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect } from \"react\"; //a hook that GIVES  \"side-effects\"\n\nimport { useHistory } from \"react-router-dom\"; // allows us to access our path / route history.\n\nimport Axios from \"axios\"; //allows us to make GET and POST requests from the browser.\n\nimport { useState } from \"react\"; //HERE we import useState Hook so we can add state to our functional components.\n\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Admin() {\n  _s();\n\n  let history = useHistory(); //USE HISTORY  it will DETERMINED OUR PAST PATH.\n\n  const [userDetails, setUserDetails] = useState([]);\n  const isLoaded = [true];\n  useEffect(() => {\n    let format = JSON.parse(localStorage.getItem(\"userDetails\"));\n    setUserDetails(format);\n\n    if (isLoaded) {\n      Axios.post(\"http://localhost:5000/login\", {\n        email: localStorage.getItem(\"email\"),\n        password: localStorage.getItem(\"password\")\n      }).then(response => {\n        if (response.data.position == \"admin\") {\n          console.log(\"User is not validated\");\n        } else {\n          history.push(\"/\");\n          window.location.reload();\n        }\n      }).catch(error => {\n        history.push(\"/login\");\n      });\n    } else {\n      console.log(\"ERROR\");\n    }\n  }, isLoaded);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Admin\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Admin, \"emKT7GnMMHUOQYqBFllJ74cIxk0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["C:/Users/john.miguel.p.estopa/OneDrive - Accenture/Desktop/hehe2/src/admin.js"],"names":["React","useEffect","useHistory","Axios","useState","swal","Admin","history","userDetails","setUserDetails","isLoaded","format","JSON","parse","localStorage","getItem","post","email","password","then","response","data","position","console","log","push","window","location","reload","catch","error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B,C,CAAmC;;AACnC,SAASC,UAAT,QAA2B,kBAA3B,C,CAA+C;;AAC/C,OAAOC,KAAP,MAAkB,OAAlB,C,CAA2B;;AAC3B,SAASC,QAAT,QAAyB,OAAzB,C,CAAkC;;AAClC,OAAOC,IAAP,MAAiB,YAAjB;;;AAEA,SAASC,KAAT,GAAiB;AAAA;;AACf,MAAIC,OAAO,GAAGL,UAAU,EAAxB,CADe,CACa;;AAC5B,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAMM,QAAQ,GAAG,CAAC,IAAD,CAAjB;AACFT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,MAAM,GAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAd;AAEAN,IAAAA,cAAc,CAACE,MAAD,CAAd;;AACC,QAAID,QAAJ,EAAc;AACbP,MAAAA,KAAK,CAACa,IAAN,CAAW,6BAAX,EAEA;AAGEC,QAAAA,KAAK,EAAEH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAHT;AAIEG,QAAAA,QAAQ,EAAEJ,YAAY,CAACC,OAAb,CAAqB,UAArB;AAJZ,OAFA,EAYCI,IAZD,CAYOC,QAAD,IAAc;AAClB,YAAGA,QAAQ,CAACC,IAAT,CAAcC,QAAd,IAAwB,OAA3B,EAAmC;AACjCC,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,SAFD,MAEK;AACHjB,UAAAA,OAAO,CAACkB,IAAR,CAAa,GAAb;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;AAIF,OAtBD,EAuBCC,KAvBD,CAuBQC,KAAD,IAAW;AAChBvB,QAAAA,OAAO,CAACkB,IAAR,CAAa,QAAb;AACD,OAzBD;AA2BD,KA5BA,MA4BI;AACHF,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AAGF,GArCQ,EAqCNd,QArCM,CAAT;AAsCE,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;GA9CQJ,K;UACOJ,U;;;KADPI,K;AAgDT,eAAeA,KAAf","sourcesContent":["import React from 'react'\r\nimport { useEffect } from \"react\"; //a hook that GIVES  \"side-effects\"\r\nimport { useHistory } from \"react-router-dom\"; // allows us to access our path / route history.\r\nimport Axios from \"axios\"; //allows us to make GET and POST requests from the browser.\r\nimport { useState } from \"react\"; //HERE we import useState Hook so we can add state to our functional components.\r\nimport swal from 'sweetalert';\r\n\r\nfunction Admin() {\r\n  let history = useHistory(); //USE HISTORY  it will DETERMINED OUR PAST PATH.\r\n  const [userDetails, setUserDetails] = useState([]);\r\n\r\n  const isLoaded = [true];\r\nuseEffect(() => {\r\n  let format = (JSON.parse(localStorage.getItem(\"userDetails\")));\r\n\r\n  setUserDetails(format)\r\n   if (isLoaded) {\r\n    Axios.post(\"http://localhost:5000/login\", \r\n\r\n    { \r\n      \r\n      \r\n      email: localStorage.getItem(\"email\"),\r\n      password: localStorage.getItem(\"password\")\r\n    }\r\n    \r\n    )\r\n  \r\n    \r\n    .then((response) => {\r\n      if(response.data.position==\"admin\"){\r\n        console.log(\"User is not validated\")\r\n      }else{\r\n        history.push(\"/\")\r\n        window.location.reload();\r\n      }\r\n\r\n\r\n   \r\n    })\r\n    .catch((error) => {\r\n      history.push(\"/login\")\r\n    })\r\n\r\n  }else{\r\n    console.log(\"ERROR\")\r\n  }\r\n\r\n\r\n}, isLoaded);\r\n  return (\r\n    <div>Admin</div>\r\n  )\r\n}\r\n\r\nexport default Admin"]},"metadata":{},"sourceType":"module"}